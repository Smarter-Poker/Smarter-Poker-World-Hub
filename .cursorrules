# Smarter.Poker Coding Standards

## Code Architecture

### Self-Contained Components
- All game logic must be React-native (state-driven)
- No `<script>` tags for gameplay or core functionality
- Components must work independently with explicit state management (props, context, or Zustand)

### No 404s - Fallbacks Required
- If an image is missing, use a CSS/SVG fallback
- Never ship broken UI due to missing resources

### Supabase Client
- Always import from `@/lib/supabaseClient` (singleton pattern)
- Never create new client instances in components

---

## Security Rules

### No Service Role Keys in Client Code
```javascript
// Server-side only (API routes)
const supabase = createClient(url, process.env.SUPABASE_SERVICE_ROLE_KEY);
```

### RLS Policies Required
Every Supabase table must have Row Level Security policies.

### Input Validation
- Sanitize all user inputs before database operations
- Validate file uploads (type, size, content)

---

## Visual Standards

### Glassmorphism
```css
backdrop-filter: blur(10px);
background: rgba(255, 255, 255, 0.1);
```

### Color Palette
- Cyan: #00d4ff (primary)
- Purple: #a855f7 (secondary)
- Gold: #fbbf24 (premium)

---

## Data Patterns

### Batch Operations
When inserting large datasets:
1. Split into batches (30 → 15 → 3 rows)
2. Add delays between batches
3. Verify each batch before proceeding

---

## Documentation
See `docs/architecture/` for detailed guidelines.
